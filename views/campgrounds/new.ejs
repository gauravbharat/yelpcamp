<%- include("../partials/header") %>

<!-- <div class="container"> -->
    <!-- Cloudinary - added enctype to form-action and other image specific properties under image form-control -->
    <div class="row justify-content-md-center">
        <div class="col-md-12">
            <h1 class="text-center">Create a New Campground</h1>
            <hr>
            <div class="col-lg-8 mx-auto">    
                <form class="was-validated" action="/campgrounds" method="post" enctype="multipart/form-data">
                    <div class="form-label-group">
                        <input class="form-control" type="text" id="name" name="campground[name]" placeholder="Campground Name" required>
                        <label for="name">Campground Name</label>
                    </div>   
                    <div class="form-label-group">
                        <input class="form-control" type="number" id="price" name="campground[price]" placeholder="price in $" min="0.01" step="0.01">
                        <label for="price">Price in $</label>
                    </div> 
                    <!-- 03053030 - Gaurav - Add custom file input -->
                    <div class="custom-file mb-3"> 
                        <input class="custom-file-input" type="file" id="image" name="image" accept="image/*" onchange="showFileName(this);" required>
                        <label class="custom-file-label" for="image">Choose file...</label>
                        <div class="invalid-feedback">Select an image to upload!</div>
                    </div>
                    <!-- <div class="form-label-group"> 
                        <input class="form-control-file" type="file" id="image" name="image" accept="image/*" required>
                        <label for="image">Campground image</label>
                    </div> -->
                    <div class="form-label-group"> 
                        <input class="form-control"type="text" id="description" name="campground[description]" placeholder="description" required>
                        <label for="description">Description</label>
                    </div>
                    <div class="form-label-group">
                        <input class="form-control" type="text" id="location" name="campground[location]" placeholder="Location (e.g. Yosemite National Park, CA)">
                        <label for="location">Location (e.g. Yosemite National Park, CA)</label>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-lg btn-primary btn-block" type="submit">Submit!</button>
                    </div>    
                </form>

                <a href="/campgrounds">Back to Campground's Page</a>
            </div>
        </div>    
    </div>
<!-- </div>     -->

<!-- 03053030 - Gaurav - Script to show the selected filename on custom input label -->
<script>
  function showFileName(obj) {
    let fileName = obj.value.slice(12); // Remove the wierd C:\fakepath\ prefix
    document.getElementsByClassName("custom-file-label")[0].innerHTML = fileName;
  };  
</script>

<%- include("../partials/footer") %>