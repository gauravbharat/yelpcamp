<%- include("../partials/header") %>

<!-- <div class="container"> -->
    <div class="row justify-content-md-center">
        <div class="col-md-12">
            <h1 class="text-center">Edit Campground <strong><%= campground.name %></strong></h1>
            <hr>
            <div class="col-lg-8 mx-auto">
                <form class="was-validated" action="/campgrounds/<%= campground._id %>?_method=PUT" method="POST" enctype="multipart/form-data">
                    <div class="form-group">
                        <input class="form-control" type="text" name="campground[name]" value="<%= campground.name %>" required placeholder="Campground name"> 
                    </div>  
                    <div class="form-group">
                        <input class="form-control" type="number" name="campground[price]" value="<%= campground.price %>" min="0.01" step="0.01" placeholder="Campground price in $">
                    </div> 
                    <!-- 03053030 - Gaurav - Add custom file input -->
                    <div class="custom-file mb-3"> 
                      <input class="custom-file-input" type="file" id="image" name="image" accept="image/*" onchange="showFileName(this);">
                      <label class="custom-file-label text-nowrap overflow-auto" for="image"><%= campground.image %></label>
                    </div>
                    <div class="form-group"> 
                        <input class="form-control" type="text" name="campground[description]" value="<%= campground.description %>" placeholder="Campground description">
                    </div>
                    <div class="form-group">
                        <input class="form-control" type="text" name="campground[location]" value="<%= campground.location %>" placeholder="Location">
                    </div>
                    <div class="form-group">
                        <button class="btn btn-lg btn-primary btn-block" type="submit">Update!</button>
                    </div>   
                </form>
                <a href="/campgrounds/<%= campground._id %>">Go Back</a>
            </div>
        </div>        
    </div>    
<!-- </div>     -->

<script>
  function showFileName(obj) {
    let fileName = obj.value.slice(12); // Remove the wierd C:\fakepath\ prefix
    document.getElementsByClassName("custom-file-label")[0].innerHTML = fileName;
  };  
</script>

<%- include("../partials/footer") %>